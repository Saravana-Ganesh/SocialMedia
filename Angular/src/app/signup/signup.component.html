<div class="container">
    <div class="card bg-light">
        <article class="card-body mx-auto" style="max-width: 400px;">
            <h4 class="card-title mt-3 text-center">Create Account</h4>
            <p class="text-center">Get started with your free account</p>
 
            <form name="form"  #form="ngForm">
                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                    </div>
                    <input name="name"  class="form-control" placeholder="Full name" type="text" required [(ngModel)]="model.name" #spy
                    #name="ngModel" [ngClass]="{ 'is-invalid': name.invalid && name.touched }">

                    <div *ngIf="name.invalid" class="invalid-feedback">
                        <div *ngIf="name.errors.required">Name is required</div>
                    </div>

                </div> 


                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                    </div>
                    <input name="email" class="form-control" placeholder="Email address" type="email"  [(ngModel)]="model.email" #email="ngModel"
                    [ngClass]="{ 'is-invalid': email.invalid && email.touched }" required email>
                    <div *ngIf="email.invalid" class="invalid-feedback">
                        <div *ngIf="email.errors.required">Email is required</div>
                        <div *ngIf="email.errors.email">Email must be a valid email address</div>
                    </div>
                </div> 


                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-phone"></i> </span>
                    </div>
                    <select class="custom-select" style="max-width: 120px;" name="code" required [(ngModel)]="model.code" #code="ngModel"
                    [ngClass]="{ 'is-invalid':code.invalid && code.touched }" required>
                        <option *ngFor="let code of countryCodes" [value]="code">{{code}}</option>
                    </select>
                    <input name="phone" class="form-control" placeholder="Phone number" type="text"  [(ngModel)]="model.phone" #phone="ngModel"
                    [ngClass]="{ 'is-invalid':phone.invalid && phone.touched }" required>
                </div> <!-- form-group// -->


                <div class="form-group input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                    </div>
                    <input class="form-control" placeholder="Create password" type="password" name="password"  [(ngModel)]="model.password" 
                    #password="ngModel"
                    [ngClass]="{ 'is-invalid':password.invalid && password.touched || passwordMatch}" required minlength="6">
                    <div *ngIf="password.invalid" class="invalid-feedback">
                        <div *ngIf="password.errors.required">Password is required</div>
                        <div *ngIf="password.errors.minlength">Password must be at least 6 characters</div>
                        <div *ngIf=passwordMatch>Passwords not matched</div>
                    </div>
                </div> <!-- form-group// -->
            
                <div *ngIf=passwordMatch>
                    <div style="color:red">Passwords not matched</div> 
                </div>

                <div class="form-group input-group">            
                    <div class="input-group-prepend">
                        <span class="input-group-text"> <i class="fa fa-lock"></i> </span>   
                    </div>
                    <input class="form-control" placeholder="Repeat password" type="password" name="confirmPassword"  [(ngModel)]="model.confirmPassword" 
                    #confirmPassword="ngModel"
                    [ngClass]="{'is-invalid':confirmPassword.invalid && confirmPassword.touched ||passwordMatch }" required>
                        <div *ngIf="confirmPassword.invalid || confirmPassword.touched" class="invalid-feedback">
                            <div *ngIf="confirmPassword.invalid">Confirm Password is required</div>                          
                        </div>                
                </div> 
                                                    
                <div class="form-group">          
                    <button [disabled]=!form.valid type="submit" class="btn btn-primary btn-block" (click)="onSubmit()"> Create Account  </button>
                </div>   
                <p class="text-center">Have an account? <a  routerLink="/login">Log In</a> </p>                                                                 
            </form>
        </article>
    </div>     
</div>
